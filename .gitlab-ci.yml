stages:
    - build
    - test
    - deploy
like_service_build:
    image:
        name: maven:3.6-jdk-11
    stage: build
    only:
        changes:
            - "code/service-likes/*"
    script: "mvn clean package -f service-likes/pom.xml"
    artifacts:
        paths:
            - service-likes/target/*.jar

like_service_test:
    image:
        name: maven:3.6-jdk-11
    stage: test
    only:
        changes:
            - "code/service-likes/*"
    script:
        - cd code/service-likes
        - mvn compile test
